"use strict";(self.webpackChunkdatacraft_school=self.webpackChunkdatacraft_school||[]).push([[1112],{8355:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"unity-catalog-data-quality","title":"Unity Catalog & Data Quality \u2013 Secure, Governed, and Trusted Data","description":"Story","source":"@site/docs-databricks/unity-catalog-data-quality.md","sourceDirName":".","slug":"/unity-catalog-data-quality","permalink":"/databricks/unity-catalog-data-quality","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"unity-catalog-data-quality","title":"Unity Catalog & Data Quality \u2013 Secure, Governed, and Trusted Data","sidebar_label":"Unity Catalog & Data Quality"}}');var t=n(4848),i=n(8453);const r={id:"unity-catalog-data-quality",title:"Unity Catalog & Data Quality \u2013 Secure, Governed, and Trusted Data",sidebar_label:"Unity Catalog & Data Quality"},l=void 0,o={},c=[{value:"The Solution: Unity Catalog \u2014 The Centralized Data Gatekeeper",id:"the-solution-unity-catalog--the-centralized-data-gatekeeper",level:2},{value:"Step-by-Step Story: How ChocoVault Uses Unity Catalog",id:"step-by-step-story-how-chocovault-uses-unity-catalog",level:2},{value:"1. Creating the Data Framework: Catalog, Schema, and Tables",id:"1-creating-the-data-framework-catalog-schema-and-tables",level:3},{value:"2. Controlling Access with Roles and Permissions",id:"2-controlling-access-with-roles-and-permissions",level:3},{value:"3. Fine-Grained Control: Row-Level Filtering",id:"3-fine-grained-control-row-level-filtering",level:3},{value:"4. Checking Who Can Do What: Verifying Permissions",id:"4-checking-who-can-do-what-verifying-permissions",level:3},{value:"5. Auditing: Tracking All Data Access and Changes",id:"5-auditing-tracking-all-data-access-and-changes",level:3},{value:"6. Data Lineage: Seeing the Data\u2019s Journey",id:"6-data-lineage-seeing-the-datas-journey",level:3},{value:"Why Unity Catalog Matters:",id:"why-unity-catalog-matters",level:2},{value:"Summary",id:"summary",level:2},{value:"Data Quality",id:"data-quality",level:2},{value:"Tools:-",id:"tools-",level:3},{value:"Benefits:-",id:"benefits-",level:2},{value:"Query:-",id:"query-",level:3},{value:"Expectation Actions in DLT",id:"expectation-actions-in-dlt",level:3},{value:"Why:-",id:"why-",level:3}];function d(e){const a={br:"br",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"Story"}),(0,t.jsx)(a.br,{}),"\n","Imagine your company, ",(0,t.jsx)(a.strong,{children:"ChocoVault"}),", is a large chocolate manufacturer with multiple teams working on different data sets scattered across many tools and clusters. Previously, managing data access was like juggling many loose balls:"]}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"Permissions were scattered across clusters, tables, and users."}),"\n",(0,t.jsx)(a.li,{children:"Different teams used different systems, creating confusion."}),"\n",(0,t.jsx)(a.li,{children:"Tracking who accessed or changed data was difficult."}),"\n",(0,t.jsx)(a.li,{children:"Sharing data between teams meant creating copies, wasting space, and causing version confusion."}),"\n"]}),"\n",(0,t.jsx)(a.p,{children:"In short, data governance was fragmented and complicated."}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h2,{id:"the-solution-unity-catalog--the-centralized-data-gatekeeper",children:"The Solution: Unity Catalog \u2014 The Centralized Data Gatekeeper"}),"\n",(0,t.jsxs)(a.p,{children:["Now, Unity Catalog acts as ",(0,t.jsx)(a.strong,{children:"one secure control tower"})," for all your company\u2019s data in Databricks, providing:"]}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Centralized Permissions:"})," Manage who can access data, no matter the workspace or cluster \u2014 all in one place."]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Structured Data Organization:"})," Organize data like a library \u2014 Catalog (big container) \u2192 Schema (section) \u2192 Tables (books)."]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Audit & Lineage:"})," See who accessed or changed data, when, and track the full journey of data from source to final report."]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Role-Based Access with SSO & SCIM:"})," Integrate with your company\u2019s identity system so roles and permissions sync automatically."]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Row/Column Level Security:"})," Protect sensitive data by hiding or filtering rows and columns based on who\u2019s asking."]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Cross-Workspace Sharing:"})," Share live data across teams without making multiple copies."]}),"\n"]}),"\n",(0,t.jsx)(a.h2,{id:"step-by-step-story-how-chocovault-uses-unity-catalog",children:"Step-by-Step Story: How ChocoVault Uses Unity Catalog"}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h3,{id:"1-creating-the-data-framework-catalog-schema-and-tables",children:"1. Creating the Data Framework: Catalog, Schema, and Tables"}),"\n",(0,t.jsxs)(a.p,{children:["You start by creating a ",(0,t.jsx)(a.strong,{children:"Catalog"})," called ",(0,t.jsx)(a.code,{children:"choco_vault"})," (your entire data universe), a ",(0,t.jsx)(a.strong,{children:"Schema"})," called ",(0,t.jsx)(a.code,{children:"Dairy_milk"})," (a section within the catalog), and a ",(0,t.jsx)(a.strong,{children:"Table"})," called ",(0,t.jsx)(a.code,{children:"ghee_choco"})," which holds information about your products."]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-sql",children:"Create Catalog choco_vault;\r\nUse Catalog choco_vault;\r\n\r\nCreate Schema Dairy_milk;\r\n\r\nCreate Table Dairy_milk.ghee_choco (\r\n    id INT,\r\n    size INT,\r\n    taste STRING\r\n);\n"})}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.em,{children:"Simple Explanation:"}),(0,t.jsx)(a.br,{}),"\n","Think of this like setting up your data library with shelves (catalogs), book sections (schemas), and books (tables)."]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h3,{id:"2-controlling-access-with-roles-and-permissions",children:"2. Controlling Access with Roles and Permissions"}),"\n",(0,t.jsx)(a.p,{children:"You create groups for different teams like \u201cData Analytics\u201d and \u201cData Engineers.\u201d Then, assign them rights:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["Analytics team can ",(0,t.jsx)(a.strong,{children:"view"})," the data."]}),"\n",(0,t.jsxs)(a.li,{children:["Engineers can ",(0,t.jsx)(a.strong,{children:"change"})," the data structure."]}),"\n"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-sql",children:"Grant Select on Table Dairy_milk.ghee_choco to 'Data Analytics';\r\nGrant Modify on Schema Dairy_milk to 'Data Engineers';\r\n\r\nCreate Group Data_Analytics;\r\nCreate Group AMS_EDW_SUPPORT;\r\n\r\nAlter Group Data_Analytics ADD User('hcprofs@company.com', 'ch@na.company.com');\n"})}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.em,{children:"Simple Explanation:"}),(0,t.jsx)(a.br,{}),"\n","This is like giving your marketing team permission to read sales reports, but only your engineers can update the product details."]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h3,{id:"3-fine-grained-control-row-level-filtering",children:"3. Fine-Grained Control: Row-Level Filtering"}),"\n",(0,t.jsx)(a.p,{children:"You don\u2019t want everyone to see all data. For example, only Indian users can see certain rows:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-sql",children:"Create or replace Function is_indian_user(user String)\r\nReturns BOOLEAN\r\nReturn user IN ('harish@company.com', 'riya@company.com');\r\n\r\nAlter Table Dairy_milk.ghee_choco \r\nSET ROW filter Dairy_milk.is_indian_user(added_by);\n"})}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.em,{children:"Simple Explanation:"}),(0,t.jsx)(a.br,{}),"\n","It\u2019s like a filter that only shows each employee their own salary info or lets bank staff see only their branch\u2019s data."]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h3,{id:"4-checking-who-can-do-what-verifying-permissions",children:"4. Checking Who Can Do What: Verifying Permissions"}),"\n",(0,t.jsx)(a.p,{children:"You can easily check who has access to what with:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-sql",children:"Show Grants on Table Dairy_milk.ghee_choco;\r\nShow Grants on Schema Dairy_milk;\n"})}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.em,{children:"Simple Explanation:"}),(0,t.jsx)(a.br,{}),"\n","This is your security checklist, making sure permissions are set correctly."]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h3,{id:"5-auditing-tracking-all-data-access-and-changes",children:"5. Auditing: Tracking All Data Access and Changes"}),"\n",(0,t.jsx)(a.p,{children:"Unity Catalog logs every action on your data, so you can run queries like:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-sql",children:"select user_email, action_name, object_name, timestamp \r\nfrom system.access.audit\r\nwhere object_name = 'ghee_choco'\r\norder by timestamp DESC;\n"})}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.em,{children:"Simple Explanation:"}),"\r\nYou get a security camera feed of all who accessed or changed data \u2014 great for security and compliance."]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h3,{id:"6-data-lineage-seeing-the-datas-journey",children:"6. Data Lineage: Seeing the Data\u2019s Journey"}),"\n",(0,t.jsx)(a.p,{children:"You can view the full path of data \u2014 from source systems (like databases or files), through all transformations (ETL jobs, filters), to dashboards and machine learning models."}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"Open the table in Data Explorer."}),"\n",(0,t.jsx)(a.li,{children:"Click on the \u2018lineage\u2019 tab."}),"\n",(0,t.jsx)(a.li,{children:"See exactly where the data came from and where it\u2019s going."}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.em,{children:"Simple Explanation:"}),(0,t.jsx)(a.br,{}),"\n","This helps answer questions like: \u201cWhere did this number come from?\u201d or \u201cWhat reports will break if we change this data?\u201d"]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h2,{id:"why-unity-catalog-matters",children:"Why Unity Catalog Matters:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Data Privacy:"})," Employees only see their own data."]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Compliance:"})," Meet regulations by showing exactly who accessed sensitive info."]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Security:"})," Detect and stop unauthorized data access."]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Efficiency:"})," Manage all permissions from one place."]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Scalability:"})," Easily handle permissions as your company grows."]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Transparency:"})," Know exactly how data flows and changes."]}),"\n"]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsxs)(a.p,{children:["Unity Catalog is the ",(0,t.jsx)(a.strong,{children:"single source of truth for your data\u2019s security and organization"})," in Databricks. It centralizes access control, organizes data cleanly, tracks everything for auditing, provides fine-grained security, and makes sharing easy and safe."]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h2,{id:"data-quality",children:"Data Quality"}),"\n",(0,t.jsx)(a.p,{children:"Data Quality is like a cookie inspector who checks:-"}),"\n",(0,t.jsxs)(a.ol,{children:["\n",(0,t.jsx)(a.li,{children:"Are cookies were right size?"}),"\n",(0,t.jsx)(a.li,{children:"Whether cookies are fully cooked or not?"}),"\n",(0,t.jsx)(a.li,{children:"Do they have chocolate chips?"}),"\n"]}),"\n",(0,t.jsx)(a.p,{children:"that's Data Quality making sure that data is clean, correct and complete befone anyone sees it."}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"Professional:-"}),(0,t.jsx)(a.br,{}),"\n","Define Rules(expectations) like:-",(0,t.jsx)(a.br,{}),"\n","In Delta Live Tables (DLT), you can define data quality rules called Expectations. These rules check incoming data before it lands in your live Delta table."]}),"\n",(0,t.jsxs)(a.p,{children:["\u2981\tNo Nulls for customer_id",(0,t.jsx)(a.br,{}),"\n","\u2981\tquantity > 0",(0,t.jsx)(a.br,{}),"\n","\u2981\tData must be valid"]}),"\n",(0,t.jsx)(a.h3,{id:"tools-",children:"Tools:-"}),"\n",(0,t.jsx)(a.p,{children:"Delta Live table, deeque, great expectations,"}),"\n",(0,t.jsx)(a.h2,{id:"benefits-",children:"Benefits:-"}),"\n",(0,t.jsxs)(a.p,{children:["\u2981\tPrevents bad data entering silver/ gold layer",(0,t.jsx)(a.br,{}),"\n","\u2981\tImproves trust in dashboards and ML models"]}),"\n",(0,t.jsx)(a.h3,{id:"query-",children:"Query:-"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-sql",children:"Create live table customers_cleaned\r\nas select * from Stream(live.customers_raw)\r\nEXCEPT(customer_is is not null) on voilation DROP ROW\r\nEXCEPT(age>0)on voilation FAIL UPDATE;    \n"})}),"\n",(0,t.jsx)(a.h3,{id:"expectation-actions-in-dlt",children:"Expectation Actions in DLT"}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"You can choose what happens if data violates a rule:-"}),(0,t.jsx)(a.br,{}),"\n","DROP ROW \u2192 remove the bad row.",(0,t.jsx)(a.br,{}),"\n","FAIL UPDATE \u2192 stop the pipeline if bad data is found.",(0,t.jsx)(a.br,{}),"\n","DROP TABLE \u2192 remove entire table if quality check fails (rare).",(0,t.jsx)(a.br,{}),"\n","WARN \u2192 allow data but log a warning."]}),"\n",(0,t.jsx)(a.h3,{id:"why-",children:"Why:-"}),"\n",(0,t.jsxs)(a.p,{children:["Guarantees data quality inside your Lakehouse.",(0,t.jsx)(a.br,{}),"\n","Prevents dirty data from polluting downstream analytics.",(0,t.jsx)(a.br,{}),"\n","Automates checks \u2192 no manual SQL cleaning later."]})]})}function h(e={}){const{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,a,n)=>{n.d(a,{R:()=>r,x:()=>l});var s=n(6540);const t={},i=s.createContext(t);function r(e){const a=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function l(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(i.Provider,{value:a},e.children)}}}]);