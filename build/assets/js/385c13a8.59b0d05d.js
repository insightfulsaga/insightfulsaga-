"use strict";(self.webpackChunkdatacraft_school=self.webpackChunkdatacraft_school||[]).push([[7977],{8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>t});var a=s(6540);const l={},r=a.createContext(l);function i(e){const n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),a.createElement(r.Provider,{value:n},e.children)}},8924:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"snowflake-object-hierarchy","title":"Databases, Schemas, Tables \u2014 Snowflake Object Hierarchy Explained","description":"A simple and story-driven guide to understanding Snowflake object hierarchy \u2014 databases, schemas, tables, stages, file formats, and best practices.","source":"@site/docs-snowflake/snowflake-object-hierarchy.md","sourceDirName":".","slug":"/snowflake-object-hierarchy","permalink":"/snowflake/snowflake-object-hierarchy","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"snowflake-object-hierarchy","title":"Databases, Schemas, Tables \u2014 Snowflake Object Hierarchy Explained","sidebar_label":"Object Hierarchy (DB \u2192 Schema \u2192 Tables)","description":"A simple and story-driven guide to understanding Snowflake object hierarchy \u2014 databases, schemas, tables, stages, file formats, and best practices.","keywords":["snowflake database schema","snowflake tables","snowflake object hierarchy explained","snowflake data modeling","snowflake folder structure"]},"sidebar":"tutorialSidebar1","previous":{"title":"Virtual Warehouses (Compute Layer)","permalink":"/snowflake/snowflake-virtual-warehouses"},"next":{"title":"Snowflake Editions","permalink":"/snowflake/snowflake-editions"}}');var l=s(4848),r=s(8453);const i={id:"snowflake-object-hierarchy",title:"Databases, Schemas, Tables \u2014 Snowflake Object Hierarchy Explained",sidebar_label:"Object Hierarchy (DB \u2192 Schema \u2192 Tables)",description:"A simple and story-driven guide to understanding Snowflake object hierarchy \u2014 databases, schemas, tables, stages, file formats, and best practices.",keywords:["snowflake database schema","snowflake tables","snowflake object hierarchy explained","snowflake data modeling","snowflake folder structure"]},t="Databases, Schemas, Tables \u2014 Snowflake Object Hierarchy",o={},c=[{value:"\ud83c\udfdb 1. Snowflake Account \u2014 The Entire Building",id:"-1-snowflake-account--the-entire-building",level:2},{value:"\ud83d\uddc2 2. Databases \u2014 The Floors of the Building",id:"-2-databases--the-floors-of-the-building",level:2},{value:"Key points:",id:"key-points",level:3},{value:"SQL Example",id:"sql-example",level:3},{value:"\ud83d\udcc1 3. Schemas \u2014 Rooms Inside the Floor",id:"-3-schemas--rooms-inside-the-floor",level:2},{value:"SQL Example",id:"sql-example-1",level:3},{value:"Why Schemas Matter",id:"why-schemas-matter",level:3},{value:"\ud83d\udce6 4. Tables \u2014 The Files Inside the Room",id:"-4-tables--the-files-inside-the-room",level:2},{value:"Types of Tables in Snowflake",id:"types-of-tables-in-snowflake",level:3},{value:"Example",id:"example",level:3},{value:"\ud83d\udd0d 5. Views \u2014 Windows to the Table",id:"-5-views--windows-to-the-table",level:2},{value:"\ud83d\udce6 6. Stages \u2014 Data Upload Rooms",id:"-6-stages--data-upload-rooms",level:2},{value:"Example",id:"example-1",level:3},{value:"\ud83c\udfd7 7. File Formats \u2014 Instructions for Reading Files",id:"-7-file-formats--instructions-for-reading-files",level:2},{value:"\ud83e\udde9 8. How All Snowflake Objects Fit Together",id:"-8-how-all-snowflake-objects-fit-together",level:2},{value:"\ud83c\udfe2 9. Real Company Example (Best Practice Setup)",id:"-9-real-company-example-best-practice-setup",level:2},{value:"\ud83e\udde0 10. Best Practices",id:"-10-best-practices",level:2},{value:"\ud83c\udfaf One-Line Summary",id:"-one-line-summary",level:2}];function d(e){const n={blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"databases-schemas-tables--snowflake-object-hierarchy",children:"Databases, Schemas, Tables \u2014 Snowflake Object Hierarchy"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.em,{children:"A simple story about the structure behind your Snowflake data world"})}),"\n",(0,l.jsxs)(n.p,{children:["Imagine Snowflake as a giant ",(0,l.jsx)(n.strong,{children:"digital office building"}),".",(0,l.jsx)(n.br,{}),"\n","Inside this building, different departments organize their documents neatly so everything is easy to find."]}),"\n",(0,l.jsxs)(n.p,{children:["Snowflake does the same with your data using a ",(0,l.jsx)(n.strong,{children:"clear hierarchy"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"\r\nAccount \u2192 Database \u2192 Schema \u2192 Tables/Views/Other Objects\r\n\n"})}),"\n",(0,l.jsx)(n.p,{children:"This hierarchy is the foundation of everything you do in Snowflake."}),"\n",(0,l.jsx)(n.p,{children:"Let\u2019s walk through this building together."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-1-snowflake-account--the-entire-building",children:"\ud83c\udfdb 1. Snowflake Account \u2014 The Entire Building"}),"\n",(0,l.jsxs)(n.p,{children:["Your Snowflake ",(0,l.jsx)(n.strong,{children:"Account"})," is like owning the entire building.",(0,l.jsx)(n.br,{}),"\n","Inside it, you create:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Databases"}),"\n",(0,l.jsx)(n.li,{children:"Warehouses"}),"\n",(0,l.jsx)(n.li,{children:"Schemas"}),"\n",(0,l.jsx)(n.li,{children:"Users"}),"\n",(0,l.jsx)(n.li,{children:"Roles"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Think of it as the top-level container."}),"\n",(0,l.jsx)(n.p,{children:"When someone says:"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u201cWe have a Snowflake account for our company.\u201d"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"They mean they own the building where all teams will set up their data floors."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-2-databases--the-floors-of-the-building",children:"\ud83d\uddc2 2. Databases \u2014 The Floors of the Building"}),"\n",(0,l.jsxs)(n.p,{children:["A ",(0,l.jsx)(n.strong,{children:"Database"})," in Snowflake is like a ",(0,l.jsx)(n.strong,{children:"floor"})," in the office building.",(0,l.jsx)(n.br,{}),"\n","Each floor holds different departments or divisions."]}),"\n",(0,l.jsx)(n.p,{children:"Examples:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"SALES_DB"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"FINANCE_DB"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"MARKETING_DB"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"HR_DB"})}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Databases are the highest logical container you create to organize datasets."}),"\n",(0,l.jsx)(n.h3,{id:"key-points",children:"Key points:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"They contain schemas"}),"\n",(0,l.jsx)(n.li,{children:"You can clone databases instantly"}),"\n",(0,l.jsx)(n.li,{children:"You can share databases using Snowflake\u2019s sharing features"}),"\n",(0,l.jsx)(n.li,{children:"They are logical containers, not tied to compute costs"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"sql-example",children:"SQL Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE DATABASE SALES_DB;\r\nUSE DATABASE SALES_DB;\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-3-schemas--rooms-inside-the-floor",children:"\ud83d\udcc1 3. Schemas \u2014 Rooms Inside the Floor"}),"\n",(0,l.jsxs)(n.p,{children:["If databases are floors, then ",(0,l.jsx)(n.strong,{children:"Schemas"})," are the ",(0,l.jsx)(n.strong,{children:"rooms"})," where specific subject areas live."]}),"\n",(0,l.jsx)(n.p,{children:"Inside the SALES_DB floor, you might have:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"RAW"})," \u2014 raw ingested data"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"STAGE"})," \u2014 cleaned, standardized data"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ANALYTICS"})," \u2014 curated data for dashboards"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"REF"})," \u2014 reference lookup tables"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Schemas let you separate data logically, cleanly, and securely."}),"\n",(0,l.jsx)(n.h3,{id:"sql-example-1",children:"SQL Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE SCHEMA RAW;\r\nCREATE SCHEMA ANALYTICS;\n"})}),"\n",(0,l.jsx)(n.h3,{id:"why-schemas-matter",children:"Why Schemas Matter"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Better organization"}),"\n",(0,l.jsx)(n.li,{children:"Easier permission control"}),"\n",(0,l.jsx)(n.li,{children:"Cleaner naming conventions"}),"\n",(0,l.jsx)(n.li,{children:"Separation between raw and transformed data"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"A well-designed schema structure saves countless headaches later."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-4-tables--the-files-inside-the-room",children:"\ud83d\udce6 4. Tables \u2014 The Files Inside the Room"}),"\n",(0,l.jsxs)(n.p,{children:["Tables are the ",(0,l.jsx)(n.strong,{children:"actual data containers"}),"."]}),"\n",(0,l.jsx)(n.p,{children:"This is where your rows and columns live \u2014 facts, transactions, logs, customers, orders, all of it."}),"\n",(0,l.jsx)(n.h3,{id:"types-of-tables-in-snowflake",children:"Types of Tables in Snowflake"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Permanent tables"})," (default)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Transient tables"})," (cheaper, less recovery)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Temporary tables"})," (session-based)"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE ANALYTICS.SALES_SUMMARY (\r\n  REGION STRING,\r\n  TOTAL_SALES NUMBER,\r\n  YEAR NUMBER\r\n);\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-5-views--windows-to-the-table",children:"\ud83d\udd0d 5. Views \u2014 Windows to the Table"}),"\n",(0,l.jsxs)(n.p,{children:["A ",(0,l.jsx)(n.strong,{children:"View"})," is like a window looking into data.\r\nIt doesn\u2019t store data itself \u2014 only the query that generates it."]}),"\n",(0,l.jsx)(n.p,{children:"Types:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"Standard View"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"Secure View"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"Materialized View"})}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Useful for:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Abstracting complex SQL"}),"\n",(0,l.jsx)(n.li,{children:"Hiding sensitive columns"}),"\n",(0,l.jsx)(n.li,{children:"Creating business-friendly data layers"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-6-stages--data-upload-rooms",children:"\ud83d\udce6 6. Stages \u2014 Data Upload Rooms"}),"\n",(0,l.jsx)(n.p,{children:"Stages are special storage areas (internal or external) where data files are placed before loading into Snowflake."}),"\n",(0,l.jsx)(n.p,{children:"Examples:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"@~"})," (user stage)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"@%TABLE"})," (table stage)"]}),"\n",(0,l.jsx)(n.li,{children:"Internal or external S3/Azure/GCS stages"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"example-1",children:"Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE STAGE RAW_STAGE\r\n  URL='s3://mybucket/raw_data'\r\n  CREDENTIALS=(AWS_KEY_ID='...' AWS_SECRET_KEY='...');\n"})}),"\n",(0,l.jsx)(n.p,{children:"Stages are part of the object hierarchy, helping you ingest data cleanly and consistently."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-7-file-formats--instructions-for-reading-files",children:"\ud83c\udfd7 7. File Formats \u2014 Instructions for Reading Files"}),"\n",(0,l.jsxs)(n.p,{children:["Like telling your workers ",(0,l.jsx)(n.em,{children:"how to read a file"}),", file formats define:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"CSV"}),"\n",(0,l.jsx)(n.li,{children:"JSON"}),"\n",(0,l.jsx)(n.li,{children:"Parquet"}),"\n",(0,l.jsx)(n.li,{children:"Avro"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE FILE FORMAT my_csv_format\r\n  TYPE = 'CSV'\r\n  FIELD_DELIMITER = ','\r\n  SKIP_HEADER = 1;\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-8-how-all-snowflake-objects-fit-together",children:"\ud83e\udde9 8. How All Snowflake Objects Fit Together"}),"\n",(0,l.jsx)(n.p,{children:"Here\u2019s a high-level hierarchy diagram:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"SNOWFLAKE ACCOUNT\r\n\u2502\r\n\u2514\u2500\u2500 DATABASE: SALES_DB\r\n    \u2502\r\n    \u251c\u2500\u2500 SCHEMA: RAW\r\n    \u2502   \u251c\u2500\u2500 TABLE: SALES_RAW\r\n    \u2502   \u251c\u2500\u2500 STAGE: RAW_STAGE\r\n    \u2502   \u2514\u2500\u2500 FILE FORMAT: RAW_CSV\r\n    \u2502\r\n    \u251c\u2500\u2500 SCHEMA: ANALYTICS\r\n    \u2502   \u251c\u2500\u2500 TABLE: SALES_SUMMARY\r\n    \u2502   \u251c\u2500\u2500 VIEW: SALES_DAILY_VIEW\r\n    \u2502   \u2514\u2500\u2500 MATERIALIZED VIEW: SALES_AGG_MV\r\n    \u2502\r\n    \u2514\u2500\u2500 SCHEMA: REF\r\n        \u2514\u2500\u2500 TABLE: COUNTRY_LOOKUP\n"})}),"\n",(0,l.jsx)(n.p,{children:"Nice. Clean. Organized. Easy to understand and govern."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-9-real-company-example-best-practice-setup",children:"\ud83c\udfe2 9. Real Company Example (Best Practice Setup)"}),"\n",(0,l.jsx)(n.p,{children:"A standard Snowflake setup for a real company might look like:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"MYCOMPANY\r\n\u2502\r\n\u2514\u2500\u2500 DATABASES:\r\n    \u251c\u2500\u2500 RAW_DB\r\n    \u2502   \u2514\u2500\u2500 SCHEMAS: CRM, SALES, MARKETING\r\n    \u251c\u2500\u2500 PROD_DB\r\n    \u2502   \u2514\u2500\u2500 SCHEMAS: CORE, ANALYTICS, REPORTING\r\n    \u251c\u2500\u2500 SANDBOX_DB\r\n    \u2502   \u2514\u2500\u2500 SCHEMAS: DEV_USER1, DEV_USER2\r\n    \u2514\u2500\u2500 REF_DB\r\n        \u2514\u2500\u2500 SCHEMAS: LOOKUPS\n"})}),"\n",(0,l.jsx)(n.p,{children:"Why this works:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Clear separation between raw & curated data"}),"\n",(0,l.jsx)(n.li,{children:"Dedicated sandbox for developers"}),"\n",(0,l.jsx)(n.li,{children:"Easy access control using roles"}),"\n",(0,l.jsx)(n.li,{children:"Organized for scale and teamwork"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-10-best-practices",children:"\ud83e\udde0 10. Best Practices"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsx)(n.strong,{children:"RAW \u2192 STAGE \u2192 PROD"})," schema patterns"]}),"\n",(0,l.jsx)(n.li,{children:"Separate dev, test, and prod using different databases"}),"\n",(0,l.jsx)(n.li,{children:"Use consistent naming conventions"}),"\n",(0,l.jsx)(n.li,{children:"Keep sensitive data in secure schemas"}),"\n",(0,l.jsx)(n.li,{children:"Use transient or temp tables where recovery is not needed"}),"\n",(0,l.jsx)(n.li,{children:"Organize stages and file formats by schema"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-one-line-summary",children:"\ud83c\udfaf One-Line Summary"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Snowflake organizes data in a clean hierarchy: Account \u2192 Database \u2192 Schema \u2192 Tables, making your data world structured, secure, and easy to navigate."})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h1,{id:"-next-topic",children:"\ud83d\ude80 Next Topic"}),"\n",(0,l.jsxs)(n.p,{children:["\ud83d\udc49 ",(0,l.jsx)(n.strong,{children:"Snowflake Editions (Standard, Enterprise, Business Critical)"})]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}}}]);