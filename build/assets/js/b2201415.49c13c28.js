"use strict";(self.webpackChunkdatacraft_school=self.webpackChunkdatacraft_school||[]).push([[6628],{2971:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"databricks-managed-vs-external-tables","title":"Tables in Databricks \u2014 Managed vs External","description":"A beginner-friendly, story-style explanation of Databricks managed and external tables, how they store data, and when to use each type in the Lakehouse.","source":"@site/docs-databricks/databricks-managed-vs-external-tables.md","sourceDirName":".","slug":"/databricks-managed-vs-external-tables","permalink":"/databricks/databricks-managed-vs-external-tables","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"databricks-managed-vs-external-tables","title":"Tables in Databricks \u2014 Managed vs External","sidebar_label":"Managed vs External Tables","description":"A beginner-friendly, story-style explanation of Databricks managed and external tables, how they store data, and when to use each type in the Lakehouse.","keywords":["Databricks tables","managed tables","external tables","Delta Lake","Databricks catalog","data storage"]},"sidebar":"tutorialSidebar2","previous":{"title":"Autoloader","permalink":"/databricks/autoloader-cloudfiles-ingestion"},"next":{"title":"Delta Lake Overview","permalink":"/databricks/delta-lake-overview"}}');var l=n(4848),t=n(8453);const r={id:"databricks-managed-vs-external-tables",title:"Tables in Databricks \u2014 Managed vs External",sidebar_label:"Managed vs External Tables",description:"A beginner-friendly, story-style explanation of Databricks managed and external tables, how they store data, and when to use each type in the Lakehouse.",keywords:["Databricks tables","managed tables","external tables","Delta Lake","Databricks catalog","data storage"]},i="Tables in Databricks \u2014 Managed vs External",o={},d=[{value:"\ud83e\udded A Simple Story to Begin",id:"-a-simple-story-to-begin",level:2},{value:"\ud83c\udfe0 Home Type 1: Databricks Takes Care of Everything",id:"-home-type-1-databricks-takes-care-of-everything",level:3},{value:"\ud83c\udfe1 Home Type 2: You Bring Your Own Folder",id:"-home-type-2-you-bring-your-own-folder",level:3},{value:"\ud83d\udcbc What Is a Managed Table?",id:"-what-is-a-managed-table",level:2},{value:"\ud83d\udce6 Example",id:"-example",level:3},{value:"\u2714 Benefits of Managed Tables",id:"-benefits-of-managed-tables",level:3},{value:"\u2716 When Managed Tables Are NOT Ideal",id:"-when-managed-tables-are-not-ideal",level:3},{value:"\ud83d\udcc1 What Is an External Table?",id:"-what-is-an-external-table",level:2},{value:"\ud83d\udce6 Example",id:"-example-1",level:3},{value:"\u2714 Benefits of External Tables",id:"-benefits-of-external-tables",level:3},{value:"\u2716 Downsides",id:"-downsides",level:3},{value:"\ud83d\udd0d Managed vs External \u2014 The One-Sentence Difference",id:"-managed-vs-external--the-one-sentence-difference",level:2},{value:"\ud83d\udcdd How to Check Table Type",id:"-how-to-check-table-type",level:2},{value:"\ud83e\udde0 When Should You Use Which?",id:"-when-should-you-use-which",level:2},{value:"\u2714 Use <strong>Managed Tables</strong> When:",id:"-use-managed-tables-when",level:3},{value:"\u2714 Use <strong>External Tables</strong> When:",id:"-use-external-tables-when",level:3},{value:"\ud83d\udce6 Simple Visual",id:"-simple-visual",level:2},{value:"\ud83d\udcd8 Summary",id:"-summary",level:2}];function c(e){const a={blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.header,{children:(0,l.jsx)(a.h1,{id:"tables-in-databricks--managed-vs-external",children:"Tables in Databricks \u2014 Managed vs External"})}),"\n",(0,l.jsx)(a.h2,{id:"-a-simple-story-to-begin",children:"\ud83e\udded A Simple Story to Begin"}),"\n",(0,l.jsx)(a.p,{children:"Imagine Databricks has two types of \u201chomes\u201d where your tables can live."}),"\n",(0,l.jsx)(a.h3,{id:"-home-type-1-databricks-takes-care-of-everything",children:"\ud83c\udfe0 Home Type 1: Databricks Takes Care of Everything"}),"\n",(0,l.jsxs)(a.p,{children:["You store your table and Databricks decides where to put the data files, how to organize them, and even cleans up after you.",(0,l.jsx)(a.br,{}),"\n","This is a ",(0,l.jsx)(a.strong,{children:"Managed Table"}),"."]}),"\n",(0,l.jsx)(a.h3,{id:"-home-type-2-you-bring-your-own-folder",children:"\ud83c\udfe1 Home Type 2: You Bring Your Own Folder"}),"\n",(0,l.jsxs)(a.p,{children:["You point Databricks to a location you control in cloud storage (S3, ADLS, GCS).",(0,l.jsx)(a.br,{}),"\n","Databricks stores table metadata, but the actual files live where ",(0,l.jsx)(a.em,{children:"you"})," choose.",(0,l.jsx)(a.br,{}),"\n","This is an ",(0,l.jsx)(a.strong,{children:"External Table"}),"."]}),"\n",(0,l.jsx)(a.p,{children:"That\u2019s the entire concept in one simple picture."}),"\n",(0,l.jsx)(a.hr,{}),"\n",(0,l.jsx)(a.h2,{id:"-what-is-a-managed-table",children:"\ud83d\udcbc What Is a Managed Table?"}),"\n",(0,l.jsxs)(a.p,{children:["A ",(0,l.jsx)(a.strong,{children:"Managed Table"})," is one where:"]}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsx)(a.li,{children:"Databricks decides where the data files are stored"}),"\n",(0,l.jsx)(a.li,{children:"Data and metadata are both controlled by Databricks"}),"\n",(0,l.jsxs)(a.li,{children:["Dropping the table ",(0,l.jsx)(a.strong,{children:"deletes the data files"})," automatically"]}),"\n",(0,l.jsx)(a.li,{children:"Storage path lives inside your workspace\u2019s managed storage location"}),"\n"]}),"\n",(0,l.jsx)(a.h3,{id:"-example",children:"\ud83d\udce6 Example"}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-sql",children:"CREATE TABLE sales_bronze (\r\n    id INT,\r\n    amount DOUBLE\r\n);\n"})}),"\n",(0,l.jsxs)(a.p,{children:["No ",(0,l.jsx)(a.code,{children:"LOCATION"})," given \u2192 automatically ",(0,l.jsx)(a.strong,{children:"managed"}),"."]}),"\n",(0,l.jsx)(a.h3,{id:"-benefits-of-managed-tables",children:"\u2714 Benefits of Managed Tables"}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsx)(a.li,{children:"Easiest to use"}),"\n",(0,l.jsx)(a.li,{children:"Automatic cleanup"}),"\n",(0,l.jsx)(a.li,{children:"Perfect for internal Lakehouse workflows"}),"\n",(0,l.jsx)(a.li,{children:"Delta features work smoothly"}),"\n"]}),"\n",(0,l.jsx)(a.h3,{id:"-when-managed-tables-are-not-ideal",children:"\u2716 When Managed Tables Are NOT Ideal"}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsx)(a.li,{children:"When multiple tools, systems, or teams need file-level access"}),"\n",(0,l.jsx)(a.li,{children:"When you must keep tight control over the physical storage layout"}),"\n",(0,l.jsx)(a.li,{children:"When you use external governance (e.g., AWS Glue, Unity Catalog external volumes)"}),"\n"]}),"\n",(0,l.jsx)(a.hr,{}),"\n",(0,l.jsx)(a.h2,{id:"-what-is-an-external-table",children:"\ud83d\udcc1 What Is an External Table?"}),"\n",(0,l.jsxs)(a.p,{children:["An ",(0,l.jsx)(a.strong,{children:"External Table"})," stores:"]}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsx)(a.li,{children:"Metadata inside Databricks"}),"\n",(0,l.jsxs)(a.li,{children:["Data files ",(0,l.jsx)(a.em,{children:"outside"})," Databricks (in a place you choose)"]}),"\n"]}),"\n",(0,l.jsx)(a.h3,{id:"-example-1",children:"\ud83d\udce6 Example"}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-sql",children:"CREATE TABLE logs_raw\r\nUSING delta\r\nLOCATION 'abfss://raw@datalake.dfs.core.windows.net/logs/';\n"})}),"\n",(0,l.jsx)(a.p,{children:"You are telling Databricks:"}),"\n",(0,l.jsxs)(a.blockquote,{children:["\n",(0,l.jsx)(a.p,{children:"\u201cMy files are stored here \u2014 just manage the table definition.\u201d"}),"\n"]}),"\n",(0,l.jsx)(a.h3,{id:"-benefits-of-external-tables",children:"\u2714 Benefits of External Tables"}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsx)(a.li,{children:"You control the cloud storage location"}),"\n",(0,l.jsx)(a.li,{children:"Easier for sharing data with non-Databricks systems"}),"\n",(0,l.jsx)(a.li,{children:"Good for multi-cloud or shared architectures"}),"\n",(0,l.jsx)(a.li,{children:"File-level access is always available"}),"\n"]}),"\n",(0,l.jsx)(a.h3,{id:"-downsides",children:"\u2716 Downsides"}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsxs)(a.li,{children:["If you drop the table, the files ",(0,l.jsx)(a.strong,{children:"remain"})," (you must clean manually)"]}),"\n",(0,l.jsx)(a.li,{children:"More responsibility on your side"}),"\n",(0,l.jsx)(a.li,{children:"Slightly more setup required"}),"\n"]}),"\n",(0,l.jsx)(a.hr,{}),"\n",(0,l.jsx)(a.h2,{id:"-managed-vs-external--the-one-sentence-difference",children:"\ud83d\udd0d Managed vs External \u2014 The One-Sentence Difference"}),"\n",(0,l.jsxs)(a.blockquote,{children:["\n",(0,l.jsx)(a.p,{children:(0,l.jsx)(a.strong,{children:"Managed tables store both metadata and data in Databricks.\r\nExternal tables store metadata in Databricks, but data in a location you choose."})}),"\n"]}),"\n",(0,l.jsx)(a.hr,{}),"\n",(0,l.jsx)(a.h2,{id:"-how-to-check-table-type",children:"\ud83d\udcdd How to Check Table Type"}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-sql",children:"DESCRIBE DETAIL table_name;\n"})}),"\n",(0,l.jsx)(a.p,{children:"You'll see:"}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsxs)(a.li,{children:[(0,l.jsx)(a.code,{children:"type"}),": MANAGED or EXTERNAL"]}),"\n",(0,l.jsxs)(a.li,{children:[(0,l.jsx)(a.code,{children:"location"}),": where the data actually lives"]}),"\n"]}),"\n",(0,l.jsx)(a.hr,{}),"\n",(0,l.jsx)(a.h2,{id:"-when-should-you-use-which",children:"\ud83e\udde0 When Should You Use Which?"}),"\n",(0,l.jsxs)(a.h3,{id:"-use-managed-tables-when",children:["\u2714 Use ",(0,l.jsx)(a.strong,{children:"Managed Tables"})," When:"]}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsx)(a.li,{children:"You want Databricks to handle everything"}),"\n",(0,l.jsx)(a.li,{children:"You are building Bronze \u2192 Silver \u2192 Gold tables"}),"\n",(0,l.jsx)(a.li,{children:"The data is internal to your Lakehouse"}),"\n",(0,l.jsx)(a.li,{children:"You don't care about controlling the cloud path"}),"\n"]}),"\n",(0,l.jsxs)(a.h3,{id:"-use-external-tables-when",children:["\u2714 Use ",(0,l.jsx)(a.strong,{children:"External Tables"})," When:"]}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsx)(a.li,{children:"You must control your own storage folder"}),"\n",(0,l.jsx)(a.li,{children:"You share files with other systems or teams"}),"\n",(0,l.jsx)(a.li,{children:"You are migrating existing data into Databricks"}),"\n",(0,l.jsx)(a.li,{children:"You use external governance/security layers"}),"\n",(0,l.jsx)(a.li,{children:"Data must remain even if the table is dropped"}),"\n"]}),"\n",(0,l.jsx)(a.hr,{}),"\n",(0,l.jsx)(a.h2,{id:"-simple-visual",children:"\ud83d\udce6 Simple Visual"}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"Managed Table\r\n \u251c\u2500 Metadata -> Databricks\r\n \u2514\u2500 Data Files -> Databricks-managed storage\r\n\r\nExternal Table\r\n \u251c\u2500 Metadata -> Databricks\r\n \u2514\u2500 Data Files -> Your cloud storage path\n"})}),"\n",(0,l.jsx)(a.hr,{}),"\n",(0,l.jsx)(a.h2,{id:"-summary",children:"\ud83d\udcd8 Summary"}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsxs)(a.li,{children:["Databricks has two types of tables: ",(0,l.jsx)(a.strong,{children:"Managed"})," and ",(0,l.jsx)(a.strong,{children:"External"}),"."]}),"\n",(0,l.jsx)(a.li,{children:"Managed tables store both the data and metadata inside Databricks."}),"\n",(0,l.jsx)(a.li,{children:"External tables store metadata in Databricks but data in a location you choose."}),"\n",(0,l.jsx)(a.li,{children:"Managed tables are simple and great for internal Lakehouse workflows."}),"\n",(0,l.jsx)(a.li,{children:"External tables give you full control and are ideal for multi-tool ecosystems."}),"\n",(0,l.jsx)(a.li,{children:"Dropping a managed table deletes data; dropping an external table does not."}),"\n"]}),"\n",(0,l.jsx)(a.p,{children:"Both table types are essential \u2014 you choose based on how much control you need."}),"\n",(0,l.jsx)(a.hr,{}),"\n",(0,l.jsx)(a.h1,{id:"-next-topic",children:"\ud83d\udc49 Next Topic"}),"\n",(0,l.jsx)(a.p,{children:(0,l.jsx)(a.strong,{children:"Delta Lake Overview \u2014 The Storage Layer of Databricks"})})]})}function h(e={}){const{wrapper:a}={...(0,t.R)(),...e.components};return a?(0,l.jsx)(a,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},8453:(e,a,n)=>{n.d(a,{R:()=>r,x:()=>i});var s=n(6540);const l={},t=s.createContext(l);function r(e){const a=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function i(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(t.Provider,{value:a},e.children)}}}]);