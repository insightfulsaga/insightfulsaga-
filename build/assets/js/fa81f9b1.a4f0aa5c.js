"use strict";(self.webpackChunkdatacraft_school=self.webpackChunkdatacraft_school||[]).push([[4329],{4603:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"snowflake-snowpipe","title":"Snowpipe \u2014 Real-Time Streaming Load with Example Pipeline","description":"Beginner-friendly guide to Snowflake Snowpipe for real-time data loading, including setup, streaming pipelines, and real company example.","source":"@site/docs-snowflake/snowflake-snowpipe.md","sourceDirName":".","slug":"/snowflake-snowpipe","permalink":"/snowflake/snowflake-snowpipe","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"snowflake-snowpipe","title":"Snowpipe \u2014 Real-Time Streaming Load with Example Pipeline","sidebar_label":"Snowpipe","description":"Beginner-friendly guide to Snowflake Snowpipe for real-time data loading, including setup, streaming pipelines, and real company example.","keywords":["Snowflake Snowpipe","Snowflake real-time load","Snowpipe streaming","Snowflake continuous data load","Snowflake ETL automation"]},"sidebar":"tutorialSidebar1","previous":{"title":"COPY INTO Command","permalink":"/snowflake/snowflake-copy-into-command"},"next":{"title":"Incremental Loading","permalink":"/snowflake/snowflake-incremental-loading-cdc"}}');var l=i(4848),r=i(8453);const a={id:"snowflake-snowpipe",title:"Snowpipe \u2014 Real-Time Streaming Load with Example Pipeline",sidebar_label:"Snowpipe",description:"Beginner-friendly guide to Snowflake Snowpipe for real-time data loading, including setup, streaming pipelines, and real company example.",keywords:["Snowflake Snowpipe","Snowflake real-time load","Snowpipe streaming","Snowflake continuous data load","Snowflake ETL automation"]},t="Snowpipe \u2014 Real-Time Streaming Load with Example Pipeline",o={},d=[{value:"\ud83c\udfd7\ufe0f What Is Snowpipe?",id:"\ufe0f-what-is-snowpipe",level:2},{value:"\ud83d\udd39 Snowpipe Architecture",id:"-snowpipe-architecture",level:2},{value:"\ud83d\udd39 Setting Up Snowpipe",id:"-setting-up-snowpipe",level:2},{value:"Step 1: Create an External Stage",id:"step-1-create-an-external-stage",level:3},{value:"Step 2: Create Snowpipe",id:"step-2-create-snowpipe",level:3},{value:"Step 3: Configure Cloud Event Notifications",id:"step-3-configure-cloud-event-notifications",level:3},{value:"\ud83d\udd39 Monitoring Snowpipe",id:"-monitoring-snowpipe",level:2},{value:"\ud83e\udde9 RetailCo Real-Time Pipeline",id:"-retailco-real-time-pipeline",level:2},{value:"\ud83e\udde0 Best Practices",id:"-best-practices",level:2},{value:"\ud83c\udfc1 Quick Summary",id:"-quick-summary",level:2}];function c(e){const n={blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"snowpipe--real-time-streaming-load-with-example-pipeline",children:"Snowpipe \u2014 Real-Time Streaming Load with Example Pipeline"})}),"\n",(0,l.jsxs)(n.p,{children:["Welcome back to ",(0,l.jsx)(n.strong,{children:"RetailCo"}),", our fictional retail company.",(0,l.jsx)(n.br,{}),"\n","Alice, the data engineer, has been using COPY INTO for batch loading daily sales data. Now the ",(0,l.jsx)(n.strong,{children:"marketing team wants real-time sales data for dashboards"}),"."]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:["\u201cWe need ",(0,l.jsx)(n.strong,{children:"Snowpipe"})," \u2014 it continuously loads data as it arrives, without waiting for daily batches,\u201d Alice explains."]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Let\u2019s explore ",(0,l.jsx)(n.strong,{children:"Snowpipe"}),", how it works, and a ",(0,l.jsx)(n.strong,{children:"real-world example"}),"."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"\ufe0f-what-is-snowpipe",children:"\ud83c\udfd7\ufe0f What Is Snowpipe?"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Snowpipe"})," is Snowflake\u2019s ",(0,l.jsx)(n.strong,{children:"serverless, continuous data ingestion service"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Loads data automatically from ",(0,l.jsx)(n.strong,{children:"stages"})," (internal or external)"]}),"\n",(0,l.jsxs)(n.li,{children:["Supports ",(0,l.jsx)(n.strong,{children:"event-driven or scheduled triggers"})]}),"\n",(0,l.jsx)(n.li,{children:"Scales automatically for incoming data"}),"\n",(0,l.jsxs)(n.li,{children:["Ideal for ",(0,l.jsx)(n.strong,{children:"real-time dashboards and analytics"})]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"RetailCo example:"})," Sales CSVs arrive in S3 every minute. Snowpipe immediately loads them into Snowflake for analytics."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-snowpipe-architecture",children:"\ud83d\udd39 Snowpipe Architecture"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"External Stage"})," \u2192 e.g., ",(0,l.jsx)(n.code,{children:"s3://retailco-realtime-sales"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"File Arrival Event"})," \u2192 triggers Snowpipe automatically"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Snowflake Table"})," \u2192 data loaded continuously"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Optional Transformation"})," \u2192 downstream pipelines or dashboards"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Visual flow:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"\r\nS3 Bucket (New File) \u2192 Event Notification \u2192 Snowpipe \u2192 SALES Table \u2192 BI Dashboard\r\n\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-setting-up-snowpipe",children:"\ud83d\udd39 Setting Up Snowpipe"}),"\n",(0,l.jsx)(n.h3,{id:"step-1-create-an-external-stage",children:"Step 1: Create an External Stage"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE STAGE REALTIME_SALES_STAGE\r\nURL='s3://retailco-realtime-sales/'\r\nCREDENTIALS=(AWS_KEY_ID='YOUR_KEY' AWS_SECRET_KEY='YOUR_SECRET')\r\nFILE_FORMAT=(TYPE=CSV FIELD_OPTIONALLY_ENCLOSED_BY='\"' SKIP_HEADER=1);\n"})}),"\n",(0,l.jsx)(n.h3,{id:"step-2-create-snowpipe",children:"Step 2: Create Snowpipe"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE PIPE SALES_PIPE\r\nAUTO_INGEST=TRUE\r\nAS\r\nCOPY INTO SALES\r\nFROM @REALTIME_SALES_STAGE\r\nFILE_FORMAT=(TYPE=CSV);\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"AUTO_INGEST=TRUE"})," \u2192 Snowpipe loads files automatically upon arrival"]}),"\n",(0,l.jsx)(n.li,{children:"No manual COPY INTO required"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"step-3-configure-cloud-event-notifications",children:"Step 3: Configure Cloud Event Notifications"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"RetailCo S3 example:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Enable S3 ",(0,l.jsx)(n.strong,{children:"event notifications"})," to trigger Snowpipe when a new CSV is uploaded"]}),"\n",(0,l.jsx)(n.li,{children:"Snowpipe receives the event and loads the file immediately"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-monitoring-snowpipe",children:"\ud83d\udd39 Monitoring Snowpipe"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsxs)(n.strong,{children:["Snowflake\u2019s ",(0,l.jsx)(n.code,{children:"LOAD_HISTORY"})," view"]})," to track file load status:"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"SELECT *\r\nFROM TABLE(INFORMATION_SCHEMA.LOAD_HISTORY(\r\n    PIPE_NAME=>'SALES_PIPE',\r\n    START_TIME=>DATEADD('hour', -1, CURRENT_TIMESTAMP)\r\n));\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Ensures ",(0,l.jsx)(n.strong,{children:"real-time visibility"})," into ingestion"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-retailco-real-time-pipeline",children:"\ud83e\udde9 RetailCo Real-Time Pipeline"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Marketing team uploads sales CSVs every minute to S3"}),"\n",(0,l.jsx)(n.li,{children:"S3 triggers Snowpipe automatically"}),"\n",(0,l.jsxs)(n.li,{children:["Snowpipe loads data into ",(0,l.jsx)(n.code,{children:"SALES"})," table"]}),"\n",(0,l.jsx)(n.li,{children:"BI dashboard reflects near real-time sales updates"}),"\n",(0,l.jsx)(n.li,{children:"Alice monitors load history for errors"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Outcome:"})," Continuous, automated, and near real-time data availability without manual intervention."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-best-practices",children:"\ud83e\udde0 Best Practices"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use external stages"})," (S3, Azure, GCS) for scalability"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Enable AUTO_INGEST"})," for event-driven ingestion"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use proper file formats"})," (CSV, JSON, Parquet)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Monitor load history"})," regularly"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Archive or clean up files"})," to control storage costs"]}),"\n",(0,l.jsxs)(n.li,{children:["Combine Snowpipe with ",(0,l.jsx)(n.strong,{children:"tasks"})," for downstream transformations"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-quick-summary",children:"\ud83c\udfc1 Quick Summary"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Snowpipe"})," = serverless, continuous data ingestion for Snowflake"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Key benefits:"})," real-time data loading, automated, scalable"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Setup:"})," external stage \u2192 Snowpipe \u2192 table \u2192 optional downstream tasks"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Best practices:"})," event notifications, file formats, monitoring, and storage management"]}),"\n",(0,l.jsxs)(n.li,{children:["Enables ",(0,l.jsx)(n.strong,{children:"real-time dashboards and analytics"})," without manual intervention"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h1,{id:"-coming-next",children:"\ud83d\ude80 Coming Next"}),"\n",(0,l.jsxs)(n.p,{children:["\ud83d\udc49 ",(0,l.jsx)(n.strong,{children:"Incremental Loading (CDC) in Snowflake \u2014 5 Real Techniques"})]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>t});var s=i(6540);const l={},r=s.createContext(l);function a(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);