"use strict";(self.webpackChunkdatacraft_school=self.webpackChunkdatacraft_school||[]).push([[8312],{8453:(e,a,n)=>{n.d(a,{R:()=>s,x:()=>l});var i=n(6540);const t={},r=i.createContext(t);function s(e){const a=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function l(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),i.createElement(r.Provider,{value:a},e.children)}},9521:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"table-column-lineage-data-tracking","title":"Table & Column Lineage \u2014 Data Tracking","description":"Understand the importance of tracking table and column lineage for data auditing, transparency, and ensuring data quality within your Databricks Lakehouse.","source":"@site/docs-databricks/table-column-lineage-data-tracking.md","sourceDirName":".","slug":"/table-column-lineage-data-tracking","permalink":"/databricks/table-column-lineage-data-tracking","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"table-column-lineage-data-tracking","title":"Table & Column Lineage \u2014 Data Tracking","sidebar_label":"Table & Column Lineage","description":"Understand the importance of tracking table and column lineage for data auditing, transparency, and ensuring data quality within your Databricks Lakehouse.","keywords":["Data Lineage","Table Lineage","Column Lineage","Databricks Lakehouse","Data Tracking","Data Quality"]},"sidebar":"tutorialSidebar2","previous":{"title":"Unity Catalog","permalink":"/databricks/unity-catalog-central-governance"},"next":{"title":"Lakehouse Federation","permalink":"/databricks/lakehouse-federation-query-external-cloud-databases"}}');var t=n(4848),r=n(8453);const s={id:"table-column-lineage-data-tracking",title:"Table & Column Lineage \u2014 Data Tracking",sidebar_label:"Table & Column Lineage",description:"Understand the importance of tracking table and column lineage for data auditing, transparency, and ensuring data quality within your Databricks Lakehouse.",keywords:["Data Lineage","Table Lineage","Column Lineage","Databricks Lakehouse","Data Tracking","Data Quality"]},l="Table & Column Lineage \u2014 Data Tracking",o={},d=[{value:"\ud83d\udd0d What is Data Lineage?",id:"-what-is-data-lineage",level:2},{value:"\ud83d\udee0 How Table &amp; Column Lineage Works in Databricks",id:"-how-table--column-lineage-works-in-databricks",level:2},{value:"Table Lineage:",id:"table-lineage",level:3},{value:"Column Lineage:",id:"column-lineage",level:3},{value:"\ud83e\uddd1\u200d\ud83d\udcbb Example of Table &amp; Column Lineage",id:"-example-of-table--column-lineage",level:2},{value:"What happens behind the scenes:",id:"what-happens-behind-the-scenes",level:3},{value:"\ud83d\ude80 Why Table &amp; Column Lineage Is Crucial",id:"-why-table--column-lineage-is-crucial",level:2},{value:"1. <strong>Data Auditing</strong>",id:"1-data-auditing",level:3},{value:"2. <strong>Troubleshooting Data Issues</strong>",id:"2-troubleshooting-data-issues",level:3},{value:"3. <strong>Ensuring Data Quality</strong>",id:"3-ensuring-data-quality",level:3},{value:"4. <strong>Simplifying Collaboration</strong>",id:"4-simplifying-collaboration",level:3},{value:"\ud83c\udf09 How to Enable Lineage Tracking in Databricks",id:"-how-to-enable-lineage-tracking-in-databricks",level:2},{value:"\ud83e\udde0 When Should You Use Table &amp; Column Lineage?",id:"-when-should-you-use-table--column-lineage",level:2},{value:"\ud83d\udcca Architecture (Simple View)",id:"-architecture-simple-view",level:2},{value:"\ud83d\udcd8 Summary",id:"-summary",level:2}];function c(e){const a={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.header,{children:(0,t.jsx)(a.h1,{id:"table--column-lineage--data-tracking",children:"Table & Column Lineage \u2014 Data Tracking"})}),"\n",(0,t.jsx)(a.h2,{id:"-what-is-data-lineage",children:"\ud83d\udd0d What is Data Lineage?"}),"\n",(0,t.jsxs)(a.p,{children:["In the world of data, ",(0,t.jsx)(a.strong,{children:"lineage"})," refers to the ",(0,t.jsx)(a.strong,{children:"tracking"})," and ",(0,t.jsx)(a.strong,{children:"visualization"})," of the path data takes from its source to its destination. It shows how data is transformed, from raw data sources through various processing stages to its final state in a database or analytical report."]}),"\n",(0,t.jsxs)(a.p,{children:["When we talk about ",(0,t.jsx)(a.strong,{children:"table"})," and ",(0,t.jsx)(a.strong,{children:"column lineage"}),", we are focusing on understanding the flow of data at the ",(0,t.jsx)(a.strong,{children:"table"})," and ",(0,t.jsx)(a.strong,{children:"column"})," level in a pipeline. This allows data teams to:"]}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Trace"})," how data is transformed"]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Identify"})," data quality issues"]}),"\n",(0,t.jsx)(a.li,{children:"Ensure compliance with data privacy regulations (e.g., GDPR, CCPA)"}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["In Databricks, table and column lineage helps improve ",(0,t.jsx)(a.strong,{children:"transparency"}),", ",(0,t.jsx)(a.strong,{children:"auditability"}),", and ",(0,t.jsx)(a.strong,{children:"data quality"})," across the Lakehouse."]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h2,{id:"-how-table--column-lineage-works-in-databricks",children:"\ud83d\udee0 How Table & Column Lineage Works in Databricks"}),"\n",(0,t.jsxs)(a.p,{children:["In the Databricks Lakehouse, ",(0,t.jsx)(a.strong,{children:"lineage tracking"})," provides an automatic map of how data moves through your tables, views, and columns. This is important for:"]}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Auditing"}),": Ensuring that data is correctly transformed and stored."]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Troubleshooting"}),": Quickly identifying where data issues occur."]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Compliance"}),": Meeting regulatory requirements for data traceability."]}),"\n"]}),"\n",(0,t.jsx)(a.h3,{id:"table-lineage",children:"Table Lineage:"}),"\n",(0,t.jsxs)(a.p,{children:["When you track table lineage, you're looking at how data moves from one table to another, across different stages of the pipeline. This helps you visualize the flow of data between different layers, from ",(0,t.jsx)(a.strong,{children:"Bronze"})," to ",(0,t.jsx)(a.strong,{children:"Silver"})," to ",(0,t.jsx)(a.strong,{children:"Gold"}),"."]}),"\n",(0,t.jsx)(a.h3,{id:"column-lineage",children:"Column Lineage:"}),"\n",(0,t.jsx)(a.p,{children:"Column lineage tracks how individual columns are transformed across the pipeline. For example, it shows if a column's values are altered in any way (such as aggregation or cleaning) as it moves through different tables or views."}),"\n",(0,t.jsxs)(a.p,{children:["Together, ",(0,t.jsx)(a.strong,{children:"table"})," and ",(0,t.jsx)(a.strong,{children:"column lineage"})," give you a ",(0,t.jsx)(a.strong,{children:"full picture"})," of how data is processed, helping to ensure its integrity and making it easier to resolve any issues."]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h2,{id:"-example-of-table--column-lineage",children:"\ud83e\uddd1\u200d\ud83d\udcbb Example of Table & Column Lineage"}),"\n",(0,t.jsx)(a.p,{children:"Consider a simple transformation pipeline where data flows from a raw data table to a cleaned and aggregated version:"}),"\n",(0,t.jsxs)(a.ol,{children:["\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"Raw Data Table (Bronze Layer)"}),":",(0,t.jsx)(a.br,{}),"\n","Contains raw, unclean data."]}),"\n"]}),"\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"Transformation (Silver Layer)"}),":",(0,t.jsx)(a.br,{}),"\n","Data is cleaned, filtered, and transformed."]}),"\n"]}),"\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"Aggregated Data Table (Gold Layer)"}),":",(0,t.jsx)(a.br,{}),"\n","Data is aggregated for final analysis."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(a.p,{children:"Here\u2019s an example in PySpark that might create this lineage:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:'# Bronze Layer: Raw Data Table\r\ndf_bronze = spark.read.table("raw_data")\r\n\r\n# Silver Layer: Data Transformation\r\ndf_silver = df_bronze.filter(df_bronze.age > 18).select("name", "age", "email")\r\n\r\n# Gold Layer: Aggregated Data Table\r\ndf_gold = df_silver.groupBy("age").count()\r\n\r\ndf_gold.write.format("delta").mode("overwrite").saveAsTable("aggregated_data")\n'})}),"\n",(0,t.jsx)(a.h3,{id:"what-happens-behind-the-scenes",children:"What happens behind the scenes:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Table Lineage"}),": You can track how the ",(0,t.jsx)(a.code,{children:"raw_data"})," table moves to ",(0,t.jsx)(a.code,{children:"aggregated_data"})," through the ",(0,t.jsx)(a.code,{children:"transformation"})," and ",(0,t.jsx)(a.code,{children:"aggregation"})," steps."]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Column Lineage"}),": You can trace how the ",(0,t.jsx)(a.code,{children:"age"})," column is filtered and then grouped."]}),"\n"]}),"\n",(0,t.jsx)(a.p,{children:"This lineage helps you understand where data comes from, how it's transformed, and where it's used, making it easier to track the entire process."}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h2,{id:"-why-table--column-lineage-is-crucial",children:"\ud83d\ude80 Why Table & Column Lineage Is Crucial"}),"\n",(0,t.jsxs)(a.h3,{id:"1-data-auditing",children:["1. ",(0,t.jsx)(a.strong,{children:"Data Auditing"})]}),"\n",(0,t.jsxs)(a.p,{children:["By tracking data lineage, you can create a transparent audit trail. This is essential for ",(0,t.jsx)(a.strong,{children:"compliance"})," with data regulations and for ensuring that the data in your reports is accurate and traceable."]}),"\n",(0,t.jsxs)(a.h3,{id:"2-troubleshooting-data-issues",children:["2. ",(0,t.jsx)(a.strong,{children:"Troubleshooting Data Issues"})]}),"\n",(0,t.jsxs)(a.p,{children:["Lineage helps quickly identify where something went wrong in your data pipeline. If you notice a data issue in your ",(0,t.jsx)(a.strong,{children:"Gold Layer"}),", tracing the lineage back to the ",(0,t.jsx)(a.strong,{children:"Bronze Layer"})," lets you find the root cause \u2014 whether it's incorrect data ingestion or a transformation error."]}),"\n",(0,t.jsxs)(a.h3,{id:"3-ensuring-data-quality",children:["3. ",(0,t.jsx)(a.strong,{children:"Ensuring Data Quality"})]}),"\n",(0,t.jsx)(a.p,{children:"Lineage provides insights into how data is transformed, cleaned, and aggregated. By visualizing this flow, you can make sure that all data transformations preserve the integrity and quality of the data."}),"\n",(0,t.jsxs)(a.h3,{id:"4-simplifying-collaboration",children:["4. ",(0,t.jsx)(a.strong,{children:"Simplifying Collaboration"})]}),"\n",(0,t.jsx)(a.p,{children:"When different teams work with the same dataset, having a clear map of data lineage helps ensure that everyone is on the same page. Data engineers, data scientists, and analysts can all track how data flows across the system, helping prevent errors and miscommunication."}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h2,{id:"-how-to-enable-lineage-tracking-in-databricks",children:"\ud83c\udf09 How to Enable Lineage Tracking in Databricks"}),"\n",(0,t.jsxs)(a.p,{children:["Databricks automatically tracks lineage for tables and columns, especially for Delta Lake tables. If you use ",(0,t.jsx)(a.strong,{children:"Delta Lake"})," for storing your data, ",(0,t.jsx)(a.strong,{children:"lineage tracking"})," is integrated, allowing you to visualize the flow of data."]}),"\n",(0,t.jsxs)(a.p,{children:["To view lineage, you can use Databricks' built-in ",(0,t.jsx)(a.strong,{children:"lineage graph"})," feature:"]}),"\n",(0,t.jsxs)(a.ol,{children:["\n",(0,t.jsxs)(a.li,{children:["Navigate to the ",(0,t.jsx)(a.strong,{children:"Data"})," tab in Databricks."]}),"\n",(0,t.jsxs)(a.li,{children:["Select a ",(0,t.jsx)(a.strong,{children:"table"})," or ",(0,t.jsx)(a.strong,{children:"view"}),"."]}),"\n",(0,t.jsxs)(a.li,{children:["Click the ",(0,t.jsx)(a.strong,{children:"Lineage"})," tab to see a visual representation of its lineage, showing how the data moves and transforms."]}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["You can also use the ",(0,t.jsx)(a.strong,{children:"Delta Lake history API"})," to retrieve the history of any Delta table, including information about schema changes, data modifications, and transformations."]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h2,{id:"-when-should-you-use-table--column-lineage",children:"\ud83e\udde0 When Should You Use Table & Column Lineage?"}),"\n",(0,t.jsx)(a.p,{children:"Use Table & Column Lineage if:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["You need to ",(0,t.jsx)(a.strong,{children:"track"})," data as it moves through your pipeline for ",(0,t.jsx)(a.strong,{children:"compliance"})," and ",(0,t.jsx)(a.strong,{children:"auditability"}),"."]}),"\n",(0,t.jsxs)(a.li,{children:["You want to improve ",(0,t.jsx)(a.strong,{children:"data quality"})," by understanding how each table and column is transformed."]}),"\n",(0,t.jsxs)(a.li,{children:["Your organization has complex ",(0,t.jsx)(a.strong,{children:"data workflows"})," involving multiple teams and stakeholders."]}),"\n",(0,t.jsxs)(a.li,{children:["You need to quickly ",(0,t.jsx)(a.strong,{children:"debug"})," data issues and ",(0,t.jsx)(a.strong,{children:"troubleshoot"})," your data pipelines."]}),"\n"]}),"\n",(0,t.jsx)(a.p,{children:"Avoid Lineage Tracking if:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"Your dataset is small and doesn\u2019t require in-depth tracking."}),"\n",(0,t.jsx)(a.li,{children:"You\u2019re working with static, one-time data transformations without ongoing data flow."}),"\n",(0,t.jsxs)(a.li,{children:["You\u2019re not concerned with ",(0,t.jsx)(a.strong,{children:"data quality"})," or ",(0,t.jsx)(a.strong,{children:"regulatory compliance"}),"."]}),"\n"]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h2,{id:"-architecture-simple-view",children:"\ud83d\udcca Architecture (Simple View)"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{children:"Raw Data (Bronze Layer)\r\n        \u2193 Data Transformation (Silver Layer)\r\n   Processed Data (Gold Layer)\n"})}),"\n",(0,t.jsx)(a.p,{children:"In this pipeline, each stage of data transformation can be tracked for both table and column lineage, giving you a clear path from the raw data to the final processed data."}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h2,{id:"-summary",children:"\ud83d\udcd8 Summary"}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"Table and Column Lineage"})," in Databricks provides an essential framework for tracking the flow of data through your system. It helps with ",(0,t.jsx)(a.strong,{children:"auditing"}),", ",(0,t.jsx)(a.strong,{children:"troubleshooting"}),", ",(0,t.jsx)(a.strong,{children:"data quality"}),", and ",(0,t.jsx)(a.strong,{children:"collaboration"})," across teams."]}),"\n",(0,t.jsx)(a.p,{children:"By automatically tracking how data is transformed and providing visual lineage graphs, Databricks makes it easier to ensure data integrity, identify issues quickly, and stay compliant with regulations."}),"\n",(0,t.jsx)(a.p,{children:"Lineage isn\u2019t just a nice-to-have; it\u2019s a must-have in modern data workflows."}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h1,{id:"-next-topic",children:"\ud83d\udc49 Next Topic"}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.strong,{children:"Lakehouse Federation \u2014 Query External Cloud Databases"})}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{})})]})}function h(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);