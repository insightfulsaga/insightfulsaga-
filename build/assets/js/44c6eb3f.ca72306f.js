"use strict";(self.webpackChunkdatacraft_school=self.webpackChunkdatacraft_school||[]).push([[4238],{1818:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"databricks-repos-ci-cd","title":"Repos & CI/CD \u2014 Git Integration and Code Promotion","description":"A story-driven guide on Databricks Repos, Git integration, and CI/CD pipelines for managing notebooks, jobs, and production deployments in enterprise environments.","source":"@site/docs-databricks/databricks-repos-ci-cd.md","sourceDirName":".","slug":"/databricks-repos-ci-cd","permalink":"/databricks/databricks-repos-ci-cd","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"databricks-repos-ci-cd","title":"Repos & CI/CD \u2014 Git Integration and Code Promotion","sidebar_label":"Repos & CI/CD","description":"A story-driven guide on Databricks Repos, Git integration, and CI/CD pipelines for managing notebooks, jobs, and production deployments in enterprise environments.","keywords":["databricks repos","databricks git integration","databricks CI/CD","databricks code promotion","databricks version control","databricks deployment automation","databricks enterprise workflows"]},"sidebar":"tutorialSidebar2","previous":{"title":"Cluster Policies","permalink":"/databricks/databricks-cluster-policies"},"next":{"title":"Monitoring Dashboard","permalink":"/databricks/databricks-monitoring-dashboard"}}');var s=i(4848),o=i(8453);const t={id:"databricks-repos-ci-cd",title:"Repos & CI/CD \u2014 Git Integration and Code Promotion",sidebar_label:"Repos & CI/CD",description:"A story-driven guide on Databricks Repos, Git integration, and CI/CD pipelines for managing notebooks, jobs, and production deployments in enterprise environments.",keywords:["databricks repos","databricks git integration","databricks CI/CD","databricks code promotion","databricks version control","databricks deployment automation","databricks enterprise workflows"]},l="Repos & CI/CD \u2014 Git Integration and Code Promotion",a={},c=[{value:"\ud83c\udfac Story Time \u2014 \u201cWe Need Version Control on Notebooks\u201d",id:"-story-time--we-need-version-control-on-notebooks",level:2},{value:"\ud83d\udd25 1. What Are Databricks Repos?",id:"-1-what-are-databricks-repos",level:2},{value:"\ud83e\uddf1 2. Key Benefits",id:"-2-key-benefits",level:2},{value:"Collaboration &amp; Version Control",id:"collaboration--version-control",level:3},{value:"Production Safety",id:"production-safety",level:3},{value:"Enterprise Governance",id:"enterprise-governance",level:3},{value:"\u2699\ufe0f 3. Setting Up Databricks Repos",id:"\ufe0f-3-setting-up-databricks-repos",level:2},{value:"\ud83d\udd04 4. Branching Strategy",id:"-4-branching-strategy",level:2},{value:"\ud83d\udee0\ufe0f 5. CI/CD for Databricks",id:"\ufe0f-5-cicd-for-databricks",level:2},{value:"Example Workflow:",id:"example-workflow",level:3},{value:"\ud83e\uddea 6. Example: GitHub Actions for Notebook Deployment",id:"-6-example-github-actions-for-notebook-deployment",level:2},{value:"\ud83d\udd10 7. Best Practices for Repos &amp; CI/CD",id:"-7-best-practices-for-repos--cicd",level:2},{value:"\ud83d\udcca 8. Real-World Story \u2014 Meera\u2019s Team",id:"-8-real-world-story--meeras-team",level:2},{value:"\ud83d\udcd8 Summary",id:"-summary",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"repos--cicd--git-integration-and-code-promotion",children:"Repos & CI/CD \u2014 Git Integration and Code Promotion"})}),"\n",(0,s.jsx)(n.h2,{id:"-story-time--we-need-version-control-on-notebooks",children:"\ud83c\udfac Story Time \u2014 \u201cWe Need Version Control on Notebooks\u201d"}),"\n",(0,s.jsx)(n.p,{children:"Meera, a data engineer, faces recurring issues:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Developers overwrite each other\u2019s notebooks"}),"\n",(0,s.jsx)(n.li,{children:"Production jobs break after untested changes"}),"\n",(0,s.jsx)(n.li,{children:"Difficult to track who changed what"}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\u201cWe need Git integration and proper CI/CD for Databricks,\u201d she thinks."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Enter ",(0,s.jsx)(n.strong,{children:"Databricks Repos + CI/CD pipelines"})," \u2014 a seamless solution to version control, collaboration, and deployment."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-1-what-are-databricks-repos",children:"\ud83d\udd25 1. What Are Databricks Repos?"}),"\n",(0,s.jsx)(n.p,{children:"Databricks Repos allow teams to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Clone Git repositories into Databricks"}),"\n",(0,s.jsx)(n.li,{children:"Edit notebooks, scripts, and SQL directly"}),"\n",(0,s.jsx)(n.li,{children:"Commit and push changes to Git"}),"\n",(0,s.jsx)(n.li,{children:"Work collaboratively without breaking production"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Supports:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"GitHub"}),"\n",(0,s.jsx)(n.li,{children:"GitLab"}),"\n",(0,s.jsx)(n.li,{children:"Bitbucket"}),"\n",(0,s.jsx)(n.li,{children:"Azure DevOps"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-2-key-benefits",children:"\ud83e\uddf1 2. Key Benefits"}),"\n",(0,s.jsx)(n.h3,{id:"collaboration--version-control",children:"Collaboration & Version Control"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Track notebook versions"}),"\n",(0,s.jsx)(n.li,{children:"Revert changes easily"}),"\n",(0,s.jsx)(n.li,{children:"Branching for feature development"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"production-safety",children:"Production Safety"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Separate dev/test/prod branches"}),"\n",(0,s.jsx)(n.li,{children:"CI/CD pipelines for automated deployments"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"enterprise-governance",children:"Enterprise Governance"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Audit changes"}),"\n",(0,s.jsx)(n.li,{children:"Role-based access"}),"\n",(0,s.jsx)(n.li,{children:"Integrate with CI/CD tools"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-3-setting-up-databricks-repos",children:"\u2699\ufe0f 3. Setting Up Databricks Repos"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Go to ",(0,s.jsx)(n.strong,{children:"Repos \u2192 Add Repo \u2192 Git Provider"})]}),"\n",(0,s.jsx)(n.li,{children:"Authenticate via token or OAuth"}),"\n",(0,s.jsx)(n.li,{children:"Clone the repo into Databricks workspace"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\r\n/Repos/company/etl-project\r\n\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Edit notebooks or scripts"}),"\n",(0,s.jsx)(n.li,{children:"Commit and push changes from UI or CLI"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-4-branching-strategy",children:"\ud83d\udd04 4. Branching Strategy"}),"\n",(0,s.jsx)(n.p,{children:"Meera recommends:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"main"})," \u2192 Production-ready code"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"dev"})," \u2192 Development branch"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"feature/*"})," \u2192 Experimental features"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Developers:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Make changes in ",(0,s.jsx)(n.code,{children:"feature"})," branches"]}),"\n",(0,s.jsxs)(n.li,{children:["Merge to ",(0,s.jsx)(n.code,{children:"dev"})," after review"]}),"\n",(0,s.jsxs)(n.li,{children:["Promote to ",(0,s.jsx)(n.code,{children:"main"})," via CI/CD"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-5-cicd-for-databricks",children:"\ud83d\udee0\ufe0f 5. CI/CD for Databricks"}),"\n",(0,s.jsx)(n.p,{children:"Databricks integrates with standard CI/CD tools:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"GitHub Actions"}),"\n",(0,s.jsx)(n.li,{children:"Azure DevOps Pipelines"}),"\n",(0,s.jsx)(n.li,{children:"GitLab CI"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"example-workflow",children:"Example Workflow:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Developer commits notebook changes to ",(0,s.jsx)(n.code,{children:"dev"})," branch"]}),"\n",(0,s.jsxs)(n.li,{children:["CI pipeline runs:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Unit tests on notebooks/scripts"}),"\n",(0,s.jsx)(n.li,{children:"Data validation checks"}),"\n",(0,s.jsx)(n.li,{children:"Build artifact creation"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Merge approved changes to ",(0,s.jsx)(n.code,{children:"main"})]}),"\n",(0,s.jsx)(n.li,{children:"CD pipeline deploys notebooks/jobs to production workspace"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-6-example-github-actions-for-notebook-deployment",children:"\ud83e\uddea 6. Example: GitHub Actions for Notebook Deployment"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"name: Deploy to Databricks\r\non:\r\n  push:\r\n    branches: [ main ]\r\njobs:\r\n  deploy:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Checkout code\r\n        uses: actions/checkout@v3\r\n      - name: Install Databricks CLI\r\n        run: pip install databricks-cli\r\n      - name: Configure Databricks CLI\r\n        run: databricks configure --token\r\n      - name: Deploy Notebooks\r\n        run: databricks workspace import_dir ./notebooks /Workspace/ETL --overwrite\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Automatically updates production workspace"}),"\n",(0,s.jsx)(n.li,{children:"Reduces human errors"}),"\n",(0,s.jsx)(n.li,{children:"Ensures reproducibility"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-7-best-practices-for-repos--cicd",children:"\ud83d\udd10 7. Best Practices for Repos & CI/CD"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.strong,{children:"feature branches"})," for development"]}),"\n",(0,s.jsxs)(n.li,{children:["Review notebooks via ",(0,s.jsx)(n.strong,{children:"pull requests"})]}),"\n",(0,s.jsxs)(n.li,{children:["Test notebooks with ",(0,s.jsx)(n.strong,{children:"unit tests or PyTest"})]}),"\n",(0,s.jsxs)(n.li,{children:["Promote to production via ",(0,s.jsx)(n.strong,{children:"automated pipelines"})]}),"\n",(0,s.jsx)(n.li,{children:"Tag releases for auditability"}),"\n",(0,s.jsxs)(n.li,{children:["Store secrets securely using ",(0,s.jsx)(n.strong,{children:"Databricks secrets"})]}),"\n",(0,s.jsx)(n.li,{children:"Enable logging and monitoring for CI/CD jobs"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-8-real-world-story--meeras-team",children:"\ud83d\udcca 8. Real-World Story \u2014 Meera\u2019s Team"}),"\n",(0,s.jsx)(n.p,{children:"Before Repos & CI/CD:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Broken pipelines"}),"\n",(0,s.jsx)(n.li,{children:"Conflicting notebook versions"}),"\n",(0,s.jsx)(n.li,{children:"Manual deployments"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"After implementing:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"All notebooks under Git"}),"\n",(0,s.jsx)(n.li,{children:"Feature branches tested automatically"}),"\n",(0,s.jsx)(n.li,{children:"Production pipelines deployed via CI/CD"}),"\n",(0,s.jsx)(n.li,{children:"Team productivity and reliability improved drastically"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Meera proudly notes:"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\u201cCode promotion and versioning finally work seamlessly.\u201d"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-summary",children:"\ud83d\udcd8 Summary"}),"\n",(0,s.jsx)(n.p,{children:"Databricks Repos + CI/CD enable:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u2714 Git-backed version control"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u2714 Collaborative development"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u2714 Branching & feature management"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u2714 Automated testing and deployment"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u2714 Production reliability"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u2714 Governance and auditability"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["A must-have for ",(0,s.jsx)(n.strong,{children:"enterprise-scale Databricks workflows"}),"."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h1,{id:"-next-topic",children:"\ud83d\udc49 Next Topic"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Databricks Monitoring Dashboard \u2014 Usage, Cost & Metrics"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>l});var r=i(6540);const s={},o=r.createContext(s);function t(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);