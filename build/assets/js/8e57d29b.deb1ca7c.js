"use strict";(self.webpackChunkdatacraft_school=self.webpackChunkdatacraft_school||[]).push([[7177],{6309:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>t,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"mounting-cloud-storage","title":"Mounting Cloud Storage \u2014 ADLS, S3 & GCS in Databricks","description":"A simple and beginner-friendly guide to mounting Azure ADLS, Amazon S3, and Google Cloud Storage (GCS) in Databricks.","source":"@site/docs-databricks/mounting-cloud-storage.md","sourceDirName":".","slug":"/mounting-cloud-storage","permalink":"/databricks/mounting-cloud-storage","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"mounting-cloud-storage","title":"Mounting Cloud Storage \u2014 ADLS, S3 & GCS in Databricks","sidebar_label":"Mounting Cloud Storage","description":"A simple and beginner-friendly guide to mounting Azure ADLS, Amazon S3, and Google Cloud Storage (GCS) in Databricks.","keywords":["Databricks storage","mount ADLS","mount S3","mount GCS","Databricks beginners","how to mount storage Databricks"]},"sidebar":"tutorialSidebar2","previous":{"title":"Organize Projects","permalink":"/databricks/organize-projects-databricks"},"next":{"title":"Autoloader","permalink":"/databricks/autoloader-cloudfiles-ingestion"}}');var r=s(4848),i=s(8453);const t={id:"mounting-cloud-storage",title:"Mounting Cloud Storage \u2014 ADLS, S3 & GCS in Databricks",sidebar_label:"Mounting Cloud Storage",description:"A simple and beginner-friendly guide to mounting Azure ADLS, Amazon S3, and Google Cloud Storage (GCS) in Databricks.",keywords:["Databricks storage","mount ADLS","mount S3","mount GCS","Databricks beginners","how to mount storage Databricks"]},a=void 0,l={},d=[{value:"Mounting Cloud Storage \u2014 ADLS / S3 / GCS",id:"mounting-cloud-storage--adls--s3--gcs",level:2},{value:"\ud83c\udf1f Simple Explanation (For Everyone)",id:"-simple-explanation-for-everyone",level:2},{value:"\ud83e\udd14 Why Do We Mount Storage?",id:"-why-do-we-mount-storage",level:2},{value:"\ud83d\udfe6 Mounting Azure ADLS (Easy Version)",id:"-mounting-azure-adls-easy-version",level:2},{value:"What you need:",id:"what-you-need",level:3},{value:"Example (simple):",id:"example-simple",level:3},{value:"\ud83d\udfe7 Mounting AWS S3 (Easy Version)",id:"-mounting-aws-s3-easy-version",level:2},{value:"For beginners, the easiest method:",id:"for-beginners-the-easiest-method",level:3},{value:"\ud83d\udfe5 Mounting Google Cloud Storage (Easy Version)",id:"-mounting-google-cloud-storage-easy-version",level:2},{value:"You need:",id:"you-need",level:3},{value:"\ud83e\uddf9 How to Unmount",id:"-how-to-unmount",level:2},{value:"\ud83d\udc4d Best Practices (Simple &amp; Clear)",id:"-best-practices-simple--clear",level:2},{value:"\u2714 Don\u2019t store passwords in notebooks",id:"-dont-store-passwords-in-notebooks",level:3},{value:"\u2714 Use clean folder names",id:"-use-clean-folder-names",level:3},{value:"\u2714 Mount storage for shared data",id:"-mount-storage-for-shared-data",level:3},{value:"\u2714 Use direct cloud paths if mount is not needed",id:"-use-direct-cloud-paths-if-mount-is-not-needed",level:3},{value:"\ud83c\udf89 Summary (In One Minute)",id:"-summary-in-one-minute",level:2},{value:"\ud83d\ude80 Coming Next",id:"-coming-next",level:2}];function c(e){const n={br:"br",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"mounting-cloud-storage--adls--s3--gcs",children:"Mounting Cloud Storage \u2014 ADLS / S3 / GCS"}),"\n",(0,r.jsx)(n.h2,{id:"-simple-explanation-for-everyone",children:"\ud83c\udf1f Simple Explanation (For Everyone)"}),"\n",(0,r.jsxs)(n.p,{children:["Imagine Databricks is your ",(0,r.jsx)(n.strong,{children:"computer"}),", and your cloud storage (ADLS, S3, GCS) is like ",(0,r.jsx)(n.strong,{children:"an external hard drive"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["To use the files easily, you \u201cplug in\u201d the storage.",(0,r.jsx)(n.br,{}),"\n","In Databricks, this \u201cplugging in\u201d is called ",(0,r.jsx)(n.strong,{children:"mounting"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"After mounting, instead of using long, complicated cloud URLs, you get a simple folder:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\r\n/mnt/raw\r\n\n"})}),"\n",(0,r.jsx)(n.p,{children:"This makes your life easier when reading or writing files."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-why-do-we-mount-storage",children:"\ud83e\udd14 Why Do We Mount Storage?"}),"\n",(0,r.jsx)(n.p,{children:"Because mounting:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Makes paths shorter and easy to remember"}),"\n",(0,r.jsx)(n.li,{children:"Helps teams work in a clean, organized way"}),"\n",(0,r.jsx)(n.li,{children:"Lets you use cloud storage like a normal folder"}),"\n",(0,r.jsx)(n.li,{children:"Avoids repeating long URLs in every notebook"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Think of it like giving your cloud data a ",(0,r.jsx)(n.strong,{children:"nickname"}),"."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-mounting-azure-adls-easy-version",children:"\ud83d\udfe6 Mounting Azure ADLS (Easy Version)"}),"\n",(0,r.jsx)(n.h3,{id:"what-you-need",children:"What you need:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A service principal (like a username + password for apps)"}),"\n",(0,r.jsx)(n.li,{children:"Secrets stored safely in Databricks"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"example-simple",children:"Example (simple):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Connect details for ADLS\r\nconfigs = {\r\n  "client-id": "<client-id>",\r\n  "client-secret": dbutils.secrets.get("storage", "adls-secret"),\r\n  "tenant-id": "<tenant-id>"\r\n}\r\n\r\n## Mount ADLS to /mnt/raw\r\ndbutils.fs.mount(\r\n  source = "abfss://raw@yourstorage.dfs.core.windows.net/",\r\n  mount_point = "/mnt/raw",\r\n  extra_configs = configs\r\n)\n'})}),"\n",(0,r.jsx)(n.p,{children:"Now you can access files like:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"/mnt/raw/customers.csv\n"})}),"\n",(0,r.jsx)(n.p,{children:"Easy!"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-mounting-aws-s3-easy-version",children:"\ud83d\udfe7 Mounting AWS S3 (Easy Version)"}),"\n",(0,r.jsx)(n.h3,{id:"for-beginners-the-easiest-method",children:"For beginners, the easiest method:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'dbutils.fs.mount(\r\n  source = "s3a://your-bucket-name",\r\n  mount_point = "/mnt/mybucket",\r\n  extra_configs = {\r\n    "aws-access-key": dbutils.secrets.get("aws", "access-key"),\r\n    "aws-secret-key": dbutils.secrets.get("aws", "secret-key")\r\n  }\r\n)\n'})}),"\n",(0,r.jsx)(n.p,{children:"After this, you can access:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"/mnt/mybucket/orders.json\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-mounting-google-cloud-storage-easy-version",children:"\ud83d\udfe5 Mounting Google Cloud Storage (Easy Version)"}),"\n",(0,r.jsx)(n.h3,{id:"you-need",children:"You need:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A service account JSON file (stored safely in secrets)"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'dbutils.fs.mount(\r\n  source = "gs://your-gcs-bucket",\r\n  mount_point = "/mnt/gcs",\r\n  extra_configs = {\r\n    "gcs-service-json": dbutils.secrets.get("gcp", "service-json")\r\n  }\r\n)\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-how-to-unmount",children:"\ud83e\uddf9 How to Unmount"}),"\n",(0,r.jsx)(n.p,{children:"If you no longer want the mount:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'dbutils.fs.unmount("/mnt/raw")\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-best-practices-simple--clear",children:"\ud83d\udc4d Best Practices (Simple & Clear)"}),"\n",(0,r.jsx)(n.h3,{id:"-dont-store-passwords-in-notebooks",children:"\u2714 Don\u2019t store passwords in notebooks"}),"\n",(0,r.jsx)(n.p,{children:"Always use secrets."}),"\n",(0,r.jsx)(n.h3,{id:"-use-clean-folder-names",children:"\u2714 Use clean folder names"}),"\n",(0,r.jsx)(n.p,{children:"Examples:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"/mnt/raw\r\n/mnt/bronze\r\n/mnt/silver\r\n/mnt/gold\n"})}),"\n",(0,r.jsx)(n.h3,{id:"-mount-storage-for-shared-data",children:"\u2714 Mount storage for shared data"}),"\n",(0,r.jsx)(n.p,{children:"Not for personal workspaces."}),"\n",(0,r.jsx)(n.h3,{id:"-use-direct-cloud-paths-if-mount-is-not-needed",children:"\u2714 Use direct cloud paths if mount is not needed"}),"\n",(0,r.jsx)(n.p,{children:"Mounting is helpful\u2014but not required."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-summary-in-one-minute",children:"\ud83c\udf89 Summary (In One Minute)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Mounting = making cloud storage appear like a normal folder"}),"\n",(0,r.jsx)(n.li,{children:"It makes working with data much easier"}),"\n",(0,r.jsx)(n.li,{children:"You can mount ADLS, S3, and GCS"}),"\n",(0,r.jsx)(n.li,{children:"Use secrets to stay secure"}),"\n",(0,r.jsx)(n.li,{children:"Use simple, clean folder structures"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Mounts are the ",(0,r.jsx)(n.strong,{children:"first building block"})," of working smoothly in Databricks.\r\nOnce this is done, you\u2019re ready for ingestion, Delta Lake, and the Medallion Architecture."]}),"\n",(0,r.jsx)(n.h2,{id:"-coming-next",children:"\ud83d\ude80 Coming Next"}),"\n",(0,r.jsxs)(n.p,{children:["\ud83d\udc49 ",(0,r.jsx)(n.strong,{children:"Autoloader \u2014 CloudFiles Ingestion End to End"})]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>a});var o=s(6540);const r={},i=o.createContext(r);function t(e){const n=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);