"use strict";(self.webpackChunkdatacraft_school=self.webpackChunkdatacraft_school||[]).push([[3216],{8453:(e,r,n)=>{n.d(r,{R:()=>l,x:()=>t});var s=n(6540);const i={},a=s.createContext(i);function l(e){const r=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(a.Provider,{value:r},e.children)}},8666:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"snowflake-time-travel-fail-safe","title":"Time Travel & Fail-Safe \u2014 How Snowflake Protects Data","description":"Learn how Snowflake Time Travel and Fail-Safe work to protect your data, recover deleted or changed records, and maintain business continuity with a story-driven approach.","source":"@site/docs-snowflake/snowflake-time-travel-fail-safe.md","sourceDirName":".","slug":"/snowflake-time-travel-fail-safe","permalink":"/snowflake/snowflake-time-travel-fail-safe","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"snowflake-time-travel-fail-safe","title":"Time Travel & Fail-Safe \u2014 How Snowflake Protects Data","sidebar_label":"Time Travel & Fail-Safe","description":"Learn how Snowflake Time Travel and Fail-Safe work to protect your data, recover deleted or changed records, and maintain business continuity with a story-driven approach.","keywords":["Snowflake Time Travel","Snowflake Fail-Safe","data recovery Snowflake","Snowflake backup","Snowflake retention"]},"sidebar":"tutorialSidebar1","previous":{"title":"Micro-Partitions","permalink":"/snowflake/snowflake-micro-partitions"},"next":{"title":"Zero-Copy Cloning","permalink":"/snowflake/snowflake-zero-copy-cloning"}}');var i=n(4848),a=n(8453);const l={id:"snowflake-time-travel-fail-safe",title:"Time Travel & Fail-Safe \u2014 How Snowflake Protects Data",sidebar_label:"Time Travel & Fail-Safe",description:"Learn how Snowflake Time Travel and Fail-Safe work to protect your data, recover deleted or changed records, and maintain business continuity with a story-driven approach.",keywords:["Snowflake Time Travel","Snowflake Fail-Safe","data recovery Snowflake","Snowflake backup","Snowflake retention"]},t="Time Travel & Fail-Safe \u2014 How Snowflake Protects Data",o={},d=[{value:"\u2728 Story Time \u2014 \u201cOops! I Deleted Everything\u201d",id:"-story-time--oops-i-deleted-everything",level:2},{value:"\ud83e\udde9 What is Time Travel in Snowflake?",id:"-what-is-time-travel-in-snowflake",level:2},{value:"Example:",id:"example",level:3},{value:"\u23f3 How Time Travel Works",id:"-how-time-travel-works",level:2},{value:"\ud83d\udee1 Fail-Safe \u2014 Your Last Line of Defense",id:"-fail-safe--your-last-line-of-defense",level:2},{value:"\ud83d\udd0d Practical Use Cases",id:"-practical-use-cases",level:2},{value:"\u2705 Recover Dropped Table",id:"-recover-dropped-table",level:3},{value:"\u2705 Query Historical Data",id:"-query-historical-data",level:3},{value:"\u2705 Restore Deleted Rows",id:"-restore-deleted-rows",level:3},{value:"\u2705 Analyze Historical Versions for Audit",id:"-analyze-historical-versions-for-audit",level:3},{value:"\u26a1 Key Differences: Time Travel vs Fail-Safe",id:"-key-differences-time-travel-vs-fail-safe",level:2},{value:"\ud83e\udde0 Best Practices",id:"-best-practices",level:2},{value:"\ud83d\udcd8 Summary",id:"-summary",level:2}];function c(e){const r={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"time-travel--fail-safe--how-snowflake-protects-data",children:"Time Travel & Fail-Safe \u2014 How Snowflake Protects Data"})}),"\n",(0,i.jsx)(r.h2,{id:"-story-time--oops-i-deleted-everything",children:"\u2728 Story Time \u2014 \u201cOops! I Deleted Everything\u201d"}),"\n",(0,i.jsxs)(r.p,{children:["Imagine a data engineer, Alex, working late at night.",(0,i.jsx)(r.br,{}),"\n","Alex accidentally runs:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-sql",children:"DROP TABLE orders;\n"})}),"\n",(0,i.jsx)(r.p,{children:"Panic sets in."}),"\n",(0,i.jsxs)(r.p,{children:["But Snowflake comes to the rescue with ",(0,i.jsx)(r.strong,{children:"Time Travel"})," and ",(0,i.jsx)(r.strong,{children:"Fail-Safe"}),"."]}),"\n",(0,i.jsxs)(r.p,{children:["These features let you ",(0,i.jsx)(r.strong,{children:"recover deleted or changed data"}),", almost like a time machine for your tables."]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"-what-is-time-travel-in-snowflake",children:"\ud83e\udde9 What is Time Travel in Snowflake?"}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Time Travel"})," allows you to ",(0,i.jsx)(r.strong,{children:"access historical data"})," at any point within a defined retention period."]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Default retention: ",(0,i.jsx)(r.strong,{children:"1 day (24 hours)"})," for standard accounts"]}),"\n",(0,i.jsxs)(r.li,{children:["Can be extended up to ",(0,i.jsx)(r.strong,{children:"90 days"})," for enterprise accounts"]}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:"You can recover:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Dropped tables"}),"\n",(0,i.jsx)(r.li,{children:"Deleted rows"}),"\n",(0,i.jsx)(r.li,{children:"Updated rows"}),"\n",(0,i.jsx)(r.li,{children:"Historical versions of a table"}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"example",children:"Example:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-sql",children:"-- Restore a dropped table\r\nUNDROP TABLE orders;\r\n\r\n-- Query data as of 1 hour ago\r\nSELECT * FROM orders AT (OFFSET => -3600);\n"})}),"\n",(0,i.jsxs)(r.p,{children:["Time Travel gives you ",(0,i.jsx)(r.strong,{children:"granular control"})," over data recovery \u2014 down to a timestamp or statement offset."]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"-how-time-travel-works",children:"\u23f3 How Time Travel Works"}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:["Snowflake stores ",(0,i.jsx)(r.strong,{children:"all changes"})," to tables in ",(0,i.jsx)(r.strong,{children:"micro-partitions"}),"."]}),"\n",(0,i.jsx)(r.li,{children:"When you query historical data, Snowflake reconstructs it using these micro-partitions."}),"\n",(0,i.jsxs)(r.li,{children:["No separate backups are needed; everything is ",(0,i.jsx)(r.strong,{children:"built-in and optimized"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Analogy:"})," It\u2019s like having a magical undo button that works across hours, days, or even weeks."]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"-fail-safe--your-last-line-of-defense",children:"\ud83d\udee1 Fail-Safe \u2014 Your Last Line of Defense"}),"\n",(0,i.jsx)(r.p,{children:"Time Travel covers your immediate recovery needs.\r\nBut what if something catastrophic happens beyond Time Travel retention?"}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Fail-Safe"})," kicks in:"]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Duration: ",(0,i.jsx)(r.strong,{children:"7 days"})," (non-configurable)"]}),"\n",(0,i.jsx)(r.li,{children:"Only Snowflake Support can access it"}),"\n",(0,i.jsxs)(r.li,{children:["For ",(0,i.jsx)(r.strong,{children:"emergency data recovery"})]}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:"Fail-Safe ensures compliance and business continuity, even for extreme cases like:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Accidental mass deletes beyond retention"}),"\n",(0,i.jsx)(r.li,{children:"Storage system failures"}),"\n",(0,i.jsx)(r.li,{children:"Misconfigured pipelines"}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Important:"})," Fail-Safe is ",(0,i.jsx)(r.strong,{children:"not for regular operations"}),"; it\u2019s purely emergency use."]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"-practical-use-cases",children:"\ud83d\udd0d Practical Use Cases"}),"\n",(0,i.jsx)(r.h3,{id:"-recover-dropped-table",children:"\u2705 Recover Dropped Table"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-sql",children:"UNDROP TABLE customer_orders;\n"})}),"\n",(0,i.jsx)(r.h3,{id:"-query-historical-data",children:"\u2705 Query Historical Data"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-sql",children:"SELECT *\r\nFROM orders\r\nAT (TIMESTAMP => '2025-11-15 14:00:00');\n"})}),"\n",(0,i.jsx)(r.h3,{id:"-restore-deleted-rows",children:"\u2705 Restore Deleted Rows"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-sql",children:"INSERT INTO orders\r\nSELECT *\r\nFROM orders\r\nBEFORE (STATEMENT => 123);\n"})}),"\n",(0,i.jsx)(r.h3,{id:"-analyze-historical-versions-for-audit",children:"\u2705 Analyze Historical Versions for Audit"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Finance needs yesterday\u2019s snapshot"}),"\n",(0,i.jsx)(r.li,{children:"Regulatory compliance requires version history"}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:["Time Travel makes it simple to ",(0,i.jsx)(r.strong,{children:"recreate exact snapshots"}),"."]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"-key-differences-time-travel-vs-fail-safe",children:"\u26a1 Key Differences: Time Travel vs Fail-Safe"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Feature"}),(0,i.jsx)(r.th,{children:"Time Travel"}),(0,i.jsx)(r.th,{children:"Fail-Safe"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Access"}),(0,i.jsx)(r.td,{children:"Self-service via SQL"}),(0,i.jsx)(r.td,{children:"Snowflake Support only"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Duration"}),(0,i.jsx)(r.td,{children:"1\u201390 days (configurable)"}),(0,i.jsx)(r.td,{children:"7 days (fixed)"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Use case"}),(0,i.jsx)(r.td,{children:"Recovery, auditing, rollback"}),(0,i.jsx)(r.td,{children:"Emergency recovery only"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Granularity"}),(0,i.jsx)(r.td,{children:"Per statement, timestamp, offset"}),(0,i.jsx)(r.td,{children:"Entire table recovery"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Cost"}),(0,i.jsx)(r.td,{children:"Storage counted in Snowflake"}),(0,i.jsx)(r.td,{children:"Included in base storage"})]})]})]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"-best-practices",children:"\ud83e\udde0 Best Practices"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Enable extended Time Travel"})," for critical tables."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Use Time Travel for auditing and rollback"})," during pipeline runs."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Do not rely on Fail-Safe for regular recovery"}),"; it\u2019s emergency-only."]}),"\n",(0,i.jsxs)(r.li,{children:["Combine with ",(0,i.jsx)(r.strong,{children:"cloning"})," to test pipeline changes without risk."]}),"\n",(0,i.jsxs)(r.li,{children:["Monitor your ",(0,i.jsx)(r.strong,{children:"retention usage"})," to avoid storage surprises."]}),"\n"]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"-summary",children:"\ud83d\udcd8 Summary"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Time Travel"})," allows point-in-time recovery of tables, rows, or versions."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Fail-Safe"})," provides a 7-day emergency recovery window, handled by Snowflake Support."]}),"\n",(0,i.jsxs)(r.li,{children:["Together, they ",(0,i.jsx)(r.strong,{children:"protect your data from mistakes, disasters, or audits"}),"."]}),"\n",(0,i.jsx)(r.li,{children:"Ideal for critical tables in analytics, finance, and operational pipelines."}),"\n",(0,i.jsxs)(r.li,{children:["Snowflake\u2019s architecture uses ",(0,i.jsx)(r.strong,{children:"micro-partitions"})," and ",(0,i.jsx)(r.strong,{children:"metadata tracking"})," to make recovery fast, simple, and reliable."]}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:"Time Travel + Fail-Safe = Snowflake\u2019s magical shield for your data."}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h1,{id:"-next-topic",children:"\ud83d\udc49 Next Topic"}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Zero-Copy Cloning \u2014 The Most Powerful Snowflake Feature"})})]})}function h(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);